{"version":3,"sources":["services/contacts.js","components/Notification.jsx","components/Navbar.jsx","components/Form.jsx","components/Contact.jsx","components/Contacts.jsx","App.js","index.js"],"names":["baseUrl","axios","get","formData","post","id","delete","updatedContact","put","Notification","message","err","style","color","Navbar","searchQuery","handleQuery","type","value","onChange","Form","onSubmit","name","handleName","number","handleNumber","handleUpload","encType","placeholder","Contact","contact","deleteContact","onClick","window","confirm","backgroundImage","location","origin","path","Contacts","contacts","map","i","key","className","App","useState","setContacts","newName","setNewName","newNumber","setNewNumber","file","setFile","query","setQuery","setMessage","setErr","useEffect","contactsService","then","response","data","console","log","searchResults","filter","toLowerCase","includes","e","target","preventDefault","alert","FormData","append","existingContact","find","setTimeout","concat","files","newArr","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.346dc45d.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"/api/contacts\";\n\nconst getAll = () => {\n  return axios.get(baseUrl);\n};\n\nconst add = (formData) => {\n  return axios.post(baseUrl, formData);\n};\n\nconst deleteContact = (id) => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\n\nconst update = (updatedContact) => {\n  const { id } = updatedContact;\n  return axios.put(`${baseUrl}/${id}`, updatedContact);\n};\n\nexport default {\n  getAll,\n  add,\n  deleteContact,\n  update,\n};\n","import React from \"react\";\n\nconst Notification = ({ message, err }) => {\n  // console.log(message, err);\n  const success = {\n    color: \"green\",\n  };\n\n  const fail = {\n    color: \"red\",\n  };\n\n  if (message === null) {\n    return null;\n  }\n\n  return <h3 style={err ? fail : success}>{message}</h3>;\n};\n\nexport default Notification;\n","import React from \"react\";\nimport { BiSearch } from \"react-icons/bi\";\nimport Notification from \"./Notification\";\n\nconst Navbar = ({ searchQuery, handleQuery, message, err }) => {\n  return (\n    <nav>\n      <h1>\n        Phonebook\n        <span>\n          Notification:\n          <Notification message={message} err={err} />\n        </span>\n      </h1>\n      <Notification />\n      <label>\n        <span>\n          <BiSearch />\n        </span>\n        <input type=\"text\" value={searchQuery} onChange={handleQuery} />\n      </label>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React from \"react\";\nimport { AiOutlinePlus } from \"react-icons/ai\";\n\nconst Form = ({\n  onSubmit,\n  name,\n  handleName,\n  number,\n  handleNumber,\n  handleUpload,\n}) => {\n  return (\n    <form onSubmit={onSubmit} encType=\"multipart/form-data\">\n      <label>\n        <input\n          type=\"text\"\n          value={name}\n          onChange={handleName}\n          placeholder=\"Add name\"\n        />\n      </label>\n      <label>\n        <input\n          type=\"number\"\n          value={number}\n          onChange={handleNumber}\n          placeholder=\"Add phone\"\n        />\n      </label>\n      <label>\n        <input type=\"file\" onChange={handleUpload} />\n      </label>\n      <button type=\"submit\">\n        <AiOutlinePlus />\n      </button>\n    </form>\n  );\n};\n\nexport default Form;\n","import React from \"react\";\nimport { IoMdClose } from \"react-icons/io\";\n\nconst Contact = ({ contact, deleteContact }) => {\n  return (\n    <li>\n      <button\n        onClick={() => {\n          if (window.confirm(`Delete ${contact.name}?`))\n            deleteContact(contact.id);\n        }}\n      >\n        <IoMdClose />\n      </button>\n      <div\n        style={{\n          backgroundImage: `url(\"${window.location.origin + contact.path}\")`,\n        }}\n      ></div>\n      <div>\n        <h3>{contact.name}</h3>\n        <p>{contact.number}</p>\n      </div>\n    </li>\n  );\n};\n\nexport default Contact;\n","import React from \"react\";\nimport Contact from \"./Contact\";\n\nconst Contacts = ({ contacts, deleteContact }) => {\n  return (\n    <ul>\n      {contacts.map((contact, i) => {\n        return (\n          <Contact key={i} contact={contact} deleteContact={deleteContact} />\n        );\n      })}\n      <li className=\"empty-flex-item\"></li>\n      <li className=\"empty-flex-item\"></li>\n    </ul>\n  );\n};\n\nexport default Contacts;\n","import React, { useEffect, useState } from \"react\";\nimport contactsService from \"./services/contacts\";\n\nimport Navbar from \"./components/Navbar\";\nimport Form from \"./components/Form\";\nimport Contacts from \"./components/Contacts\";\n\nconst App = () => {\n  const [contacts, setContacts] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [query, setQuery] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [err, setErr] = useState(false);\n\n  // Gell contacts\n  useEffect(() => {\n    contactsService.getAll().then((response) => {\n      setContacts(response.data);\n    });\n  }, []);\n\n  const handleName = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumber = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleUpload = (e) => {\n    setFile(e.target.files[0]);\n  };\n\n  console.log(file);\n\n  // Add contact\n  const addContact = (e) => {\n    e.preventDefault();\n\n    if (!newName || !newNumber || !file) {\n      alert(\"Info is missing!\");\n    }\n    // console.log(file);\n\n    let formData = new FormData();\n    formData.append(\"name\", newName);\n    formData.append(\"number\", newNumber);\n    formData.append(\"image\", file);\n    // console.log(formData);\n\n    // Check if contact exists\n    const existingContact = contacts.find(\n      (contact) => contact.name === newName\n    );\n\n    if (existingContact) {\n      alert(`${newName} already exists! Update number?`);\n      const updatedContact = { ...existingContact, number: newNumber };\n\n      contactsService.update(updatedContact).then((response) => {\n        // console.log(response.data);\n        setContacts(\n          contacts.map((contact) =>\n            contact.id !== updatedContact.id ? contact : response.data\n          )\n        );\n        setMessage(`Updated ${newName}'s number`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 3000);\n      });\n    } else {\n      // Add new contact\n      contactsService.add(formData).then((response) => {\n        setContacts(contacts.concat(response.data));\n        console.log(response.data);\n        setMessage(`Added ${newName}`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 3000);\n      });\n    }\n\n    // Clear inputs\n    setNewName(\"\");\n    setNewNumber(\"\");\n    setErr(false);\n  };\n\n  // Delete\n  const deleteContact = (id) => {\n    contactsService.deleteContact(id).then((response) => {\n      const newArr = contacts.filter((contact) => contact.id !== id);\n      setContacts(newArr);\n    });\n  };\n\n  // Search\n  const handleQuery = (e) => {\n    setQuery(e.target.value);\n  };\n\n  const searchResults = contacts.filter((contact) =>\n    contact.name.toLowerCase().includes(query.toLowerCase())\n  );\n\n  return (\n    <div className=\"App\">\n      <Navbar handleQuery={handleQuery} message={message} err={err} />\n      <main>\n        <aside>\n          <Form\n            onSubmit={addContact}\n            name={newName}\n            number={newNumber}\n            handleName={handleName}\n            handleNumber={handleNumber}\n            file={file}\n            handleUpload={handleUpload}\n          />\n        </aside>\n        <Contacts contacts={searchResults} deleteContact={deleteContact} />\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}