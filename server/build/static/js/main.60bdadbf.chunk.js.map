{"version":3,"sources":["services/contacts.js","components/Notification.jsx","components/Navbar.jsx","components/Form.jsx","components/Contact.jsx","components/Contacts.jsx","App.js","index.js"],"names":["baseUrl","axios","get","formData","post","id","delete","updatedContact","put","Notification","message","err","console","log","style","color","Navbar","searchQuery","handleQuery","type","value","onChange","Form","onSubmit","name","handleName","number","handleNumber","handleUpload","encType","placeholder","Contact","contact","deleteContact","path","window","location","origin","onClick","confirm","src","alt","Contacts","contacts","map","i","key","className","App","useState","setContacts","newName","setNewName","newNumber","setNewNumber","file","setFile","query","setQuery","setMessage","setErr","useEffect","contactsService","then","response","data","searchResults","filter","toLowerCase","includes","e","target","preventDefault","alert","FormData","append","existingContact","find","setTimeout","concat","files","newArr","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.60bdadbf.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"/api/contacts\";\n\nconst getAll = () => {\n  return axios.get(baseUrl);\n};\n\nconst add = (formData) => {\n  return axios.post(baseUrl, formData);\n};\n\nconst deleteContact = (id) => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\n\nconst update = (updatedContact) => {\n  const { id } = updatedContact;\n  return axios.put(`${baseUrl}/${id}`, updatedContact);\n};\n\nexport default {\n  getAll,\n  add,\n  deleteContact,\n  update,\n};\n","import React from \"react\";\n\nconst Notification = ({ message, err }) => {\n  console.log(message);\n  const success = {\n    color: \"green\",\n  };\n\n  const fail = {\n    color: \"red\",\n  };\n\n  if (message === null) {\n    return null;\n  }\n\n  return <h3 style={err ? fail : success}>{message}</h3>;\n};\n\nexport default Notification;\n","import React from \"react\";\nimport { BiSearch } from \"react-icons/bi\";\nimport Notification from \"./Notification\";\n\nconst Navbar = ({ searchQuery, handleQuery, message, err }) => {\n  return (\n    <nav>\n      <h1>\n        Phonebook\n        <span>\n          Notification:\n          <Notification message={message} err={err} />\n        </span>\n      </h1>\n      <Notification />\n      <label>\n        <span>\n          <BiSearch />\n        </span>\n        <input type=\"text\" value={searchQuery} onChange={handleQuery} />\n      </label>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React from \"react\";\nimport { AiOutlinePlus } from \"react-icons/ai\";\n\nconst Form = ({\n  onSubmit,\n  name,\n  handleName,\n  number,\n  handleNumber,\n  handleUpload,\n}) => {\n  return (\n    <form onSubmit={onSubmit} encType=\"multipart/form-data\">\n      <label>\n        <input\n          type=\"text\"\n          value={name}\n          onChange={handleName}\n          placeholder=\"Add name\"\n        />\n      </label>\n      <label>\n        <input\n          type=\"number\"\n          value={number}\n          onChange={handleNumber}\n          placeholder=\"Add phone\"\n        />\n      </label>\n      <label>\n        <input type=\"file\" onChange={handleUpload} />\n      </label>\n      <button type=\"submit\">\n        <AiOutlinePlus />\n      </button>\n    </form>\n  );\n};\n\nexport default Form;\n","import React from \"react\";\nimport { IoMdClose } from \"react-icons/io\";\n\nconst Contact = ({ contact, deleteContact }) => {\n  console.log(contact.path);\n  console.log(window.location.origin);\n  return (\n    <li>\n      <button\n        onClick={() => {\n          if (window.confirm(`Delete ${contact.name}?`))\n            deleteContact(contact.id);\n        }}\n      >\n        <IoMdClose />\n      </button>\n      <div>\n        <img src={window.location.origin + `${contact.path}`} alt=\"profile\" />\n      </div>\n      <div>\n        <h3>{contact.name}</h3>\n        <p>{contact.number}</p>\n      </div>\n    </li>\n  );\n};\n\nexport default Contact;\n","import React from \"react\";\nimport Contact from \"./Contact\";\n\nconst Contacts = ({ contacts, deleteContact }) => {\n  return (\n    <ul>\n      {contacts.map((contact, i) => {\n        return (\n          <Contact key={i} contact={contact} deleteContact={deleteContact} />\n        );\n      })}\n      <li className=\"empty-flex-item\"></li>\n      <li className=\"empty-flex-item\"></li>\n    </ul>\n  );\n};\n\nexport default Contacts;\n","import React, { useEffect, useState } from \"react\";\nimport contactsService from \"./services/contacts\";\n\nimport Navbar from \"./components/Navbar\";\nimport Form from \"./components/Form\";\nimport Contacts from \"./components/Contacts\";\n\nconst App = () => {\n  const [contacts, setContacts] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [query, setQuery] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [err, setErr] = useState(false);\n\n  // Gell contacts\n  useEffect(() => {\n    contactsService.getAll().then((response) => {\n      setContacts(response.data);\n    });\n  }, []);\n\n  const handleName = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumber = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleUpload = (e) => {\n    setFile(e.target.files[0]);\n  };\n\n  // Add contact\n  const addContact = (e) => {\n    e.preventDefault();\n\n    if (!newName || !newNumber || !file) {\n      alert(\"Info is missing!\");\n    }\n\n    let formData = new FormData();\n\n    formData.append(\"name\", newName);\n    formData.append(\"number\", newNumber);\n    formData.append(\"image\", file);\n    // console.log(formData);\n\n    // Check if contact exists\n    const existingContact = contacts.find(\n      (contact) => contact.name === formData.name\n    );\n\n    if (existingContact) {\n      alert(`${formData.name} already exists! Update number?`);\n      const updatedContact = { ...existingContact, number: formData.name };\n\n      contactsService.update(updatedContact).then((response) => {\n        // console.log(response.data);\n        setContacts(\n          contacts.map((contact) =>\n            contact.id !== updatedContact.id ? contact : response.data\n          )\n        );\n        setMessage(`Updated ${updatedContact.name}'s number`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 3000);\n      });\n    } else {\n      // Add new contact\n      contactsService.add(formData).then((response) => {\n        setContacts(contacts.concat(response.data));\n        console.log(response.data);\n        setMessage(`Added ${formData.name}`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 3000);\n      });\n    }\n\n    // Clear inputs\n    setNewName(\"\");\n    setNewNumber(\"\");\n    setErr(false);\n  };\n\n  // Delete\n  const deleteContact = (id) => {\n    contactsService.deleteContact(id).then((response) => {\n      const newArr = contacts.filter((contact) => contact.id !== id);\n      setContacts(newArr);\n    });\n  };\n\n  // Search\n  const handleQuery = (e) => {\n    setQuery(e.target.value);\n  };\n\n  const searchResults = contacts.filter((contact) =>\n    contact.name.toLowerCase().includes(query.toLowerCase())\n  );\n\n  return (\n    <div className=\"App\">\n      <Navbar handleQuery={handleQuery} message={message} err={err} />\n      <main>\n        <aside>\n          <Form\n            onSubmit={addContact}\n            name={newName}\n            number={newNumber}\n            handleName={handleName}\n            handleNumber={handleNumber}\n            handleUpload={handleUpload}\n          />\n        </aside>\n        <Contacts contacts={searchResults} deleteContact={deleteContact} />\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}